PKG_LIST=$(pkg_info -q)
PASS_LIST=$(
	cd ~/.password-store
	find . -type f -name \*.gpg | sed 's/^\.\///' | sed 's/\.gpg$//g'
)

function reload_completions {
	if [ -e ~/.ksh_completions ]; then
		. ~/.ksh_completions
		echo "ksh completions reloaded"
	fi
}

set -A complete_kill_1 -- -9 -HUP -INFO -KILL -TERM

set -A complete_vmctl -- console load reload start stop reset status
set -A complete_vmctl_2 -- $(vmctl status | awk '!/NAME/{print $NF}')

set -A complete_mpc -- ls play pause toggle prev random shuffle stop update
set -A complete_mpc_2 -- $(mpc lsplaylists)

set -A complete_pkg_delete -- $PKG_LIST
set -A complete_pkg_info -- $PKG_LIST

set -A complete_ssh_1 -- $(cat ~/.ssh/known_hosts | awk '{print $1}')

set -A complete_rcctl_1 -- disable enable get ls order set
set -A complete_rcctl_2 -- $(ls /etc/rc.d)

set -A complete_signify_1 -- -C -G -S -V
set -A complete_signify_2 -- -q -p -x -c -m -t -z
set -A complete_signify_3 -- -p -x -c -m -t -z

set -A complete_make_1 -- install clean clean repackage reinstall

set -A complete_emacs -- --daemon --debug-init
set -A complete_emacsclient -- -c -t

set -A complete_gpg2 -- --refresh --receive-keys --armor --clearsign --sign --list-key --decrypt --verify --detach-sig

set -A complete_pass -- $PASS_LIST -c
